<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petíció a szabad tyúkokért</title>
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <style>
        /* Import Montserrat font from Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', Arial, sans-serif;
        }
        
        body {
            max-width: 1700px;
            margin: 0 auto;
            padding: 0 5px;
        }
        
        .hero {
            position: relative;
            margin-bottom: 40px;
            width: 100vw;
            margin-left: calc(-50vw + 50%);
            padding: 0;
            overflow: hidden;
        }
        
        .hero img {
            width: 100%;
            height: auto; /* Let height adjust naturally on desktop */
            display: block;
            object-fit: contain; /* Changed from cover to contain */
            object-position: center; /* Center the image */
        }
        
        .hero-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            color: #ff6600;
            font-size: 48px;
            font-weight: bold;
            background-color: rgba(80, 80, 80, 0.5);
            padding: 30px 20px;
            text-align: left;
        }

        .hero-button {
            position: absolute;
            top: 20px;
            right: 20px;
            display: inline-block;
            background-color: #fa8d45fd;
            color: #333;
            padding: 20px 38px;
            border-radius: 5px;
            text-decoration: none;
            font-family: 'Montserrat', Arial, sans-serif;
            font-weight: bold;
            font-size: 20px;
            z-index: 10; /* Ensures the button stays on top */
        }

        .hero-button:hover {
            background-color: #333;
            color: white;
        }
        
        section {
            margin-bottom: 40px;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', Arial, sans-serif;
            font-weight: 600;
        }
        
        h2 {
            margin-bottom: 20px;
            font-size: 36px;
            text-align: center;
            color: #ff6600;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .grid-item {
            display: flex;
            flex-direction: column;
            text-align: center;
        }
        
        .grid-item img {
            width: 100%;
            height: 450px;
            object-fit: cover;
            margin-bottom: 10px;
        }
        
        .grid-item h3 {
            margin-bottom: 5px;
            font-size: 18px;
            text-align: center;
        }
        
        .grid-item p {
            font-size: 16px;
            color: #333;
        }

        .carousel-container {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            overflow: hidden;
        }

        .carousel-slide {
            display: none;
            width: 100%;
            position: relative;
        }

        .carousel-slide.active {
            display: block;
        }

        .carousel-slide img {
            width: 100%;
            height: 600px;
            object-fit: cover;
            display: block;
        }

        .carousel-text {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.4);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 18px;
            overflow-y: auto;
            max-height: 40%;
        }

        .carousel-prev, .carousel-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 15px;
            cursor: pointer;
            font-size: 18px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-prev {
            left: 10px;
        }

        .carousel-next {
            right: 10px;
        }

        .carousel-dots {
            text-align: center;
            margin-top: 10px;
        }

        .dot {
            height: 12px;
            width: 12px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            margin: 0 5px;
            cursor: pointer;
        }

        .dot.active {
            background-color: #ff6600;
        }
        
        .cta {
            text-align: center;
            margin: 40px 0;
        }
        
        .button {
            display: inline-block;
            background-color: #fa8d45fd;
            color: #333;
            padding: 12px 24px;
            border-radius: 5px;
            text-decoration: none;
            font-family: 'Montserrat', Arial, sans-serif;
            font-weight: bold;
            margin-top: 10px;
            font-size: 24px;
        }
        
        .button:hover {
            background-color: #333;
            color: white;
        }

        /* Add the new CSS rule right here */
#return-to-main {
    font-size: 18px; /* Smaller than the 24px of petition buttons */
    padding: 8px 16px; /* Reduced padding compared to petition buttons */
}
        
        .content-section {
            margin-bottom: 40px;
        }
        
        p {
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 20px;
            font-weight: normal;
            text-align: center;
        }

        section p, section h2, section h3 {
            padding-left: 40px;
            padding-right: 40px;
        }
        
        .center-image {
            text-align: center; 
            margin: 30px auto;
        }
        
        .center-image img {
            width: 100%; 
            max-width: 800px; 
            height: 450px; 
            object-fit: cover;
        }

        .footer {
    background-color: #333333;
    color: white;
    padding: 30px 20px;
    text-align: center;
    margin-top: 60px;
    width: 100vw;
    margin-left: calc(-50vw + 50%);
    position: relative;
}

.footer a {
    color: #fa8d45fd;
    text-decoration: none;
}

.footer a:hover {
    text-decoration: underline;
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px;
}

        .thank-you-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 40px 20px;
    text-align: center;
}

.newsletter-signup {
    margin: 40px auto;
    padding: 30px;
    background-color: #f8f8f8;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

#thank-you-section h2 {
    font-size: 32px;
    margin-bottom: 20px;
    color: #ff6600;
}

#thank-you-section h3 {
    font-size: 24px;
    margin-bottom: 15px;
    color: #ff6600;
}

#thank-you-section .privacy-notice {
    font-size: 12px;
    color: #777;
    margin-top: 20px;
}

#thank-you-section .center-image {
    margin: 30px auto;
}

#thank-you-section .center-image img {
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
}

.newsletter-button-container {
    margin-top: 20px;
}

#newsletter-subscribe-button {
    background-color: #fa8d45fd;
    color: #333;
    padding: 12px 24px;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    font-size: 18px;
    cursor: pointer;
}

#newsletter-subscribe-button:hover {
    background-color: #333;
    color: white;
}

/* MailerLite form styling */
.ml-form-embedWrapper {
    box-sizing: border-box;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}

.ml-form-embedBody {
    padding: 20px;
    border-radius: 4px;
    background: #f8f8f8;
}

.ml-form-fieldRow {
    margin-bottom: 15px;
}

.form-control {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
}

.ml-form-checkboxRow {
    margin: 20px 0;
}

.checkbox {
    display: flex;
    align-items: flex-start;
}

.checkbox input {
    margin-top: 5px;
    margin-right: 10px;
}

.ml-form-embedSubmit .primary {
    background-color: #fa8d45fd;
    color: #333;
    padding: 12px 24px;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    font-size: 18px;
    cursor: pointer;
    width: 100%;
    max-width: 300px;
}

.ml-form-embedSubmit .primary:hover {
    background-color: #333;
    color: white;
}

.ml-form-successBody {
    padding: 20px;
    background-color: #e8f5e9;
    border-radius: 4px;
    text-align: center;
}
        
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .hero {
                width: 100%;
                margin-left: 0;
            }
            
            .hero img {
                object-fit: cover; /* Use cover on mobile */
                height: 800px; /* Fixed height for mobile */
                object-position: top right; /* Position to show the hen */
            }
            
            .hero-text {
                font-size: 24px;
                padding: 15px 10px;
                background-color: rgba(80, 80, 80, 0.8);
            }
            
            .hero-button {
                top: 10px;
                right: 10px;
                font-size: 16px;
                padding: 8px 16px;
            }
            
            iframe {
                height: 400px !important;
            }
            
            .carousel-slide img {
                height: 450px;
            }

            .carousel-text {
                font-size: 14px;
                max-height: 50%;
                background-color: rgba(80, 80, 80, 0.5);
            }
        }

        @media (max-width: 480px) {
            .hero-text {
                font-size: 20px;
                padding: 10px;
                background-color: rgba(80, 80, 80, 0.7);
            }
            
            .hero-button {
                font-size: 14px;
                padding: 6px 12px;
            }

            .hero img {
                object-position: 70% 0; /* Adjust to better show the hen on smallest screens */
                height: 600px;
            }
            
            section p, section h2, section h3 {
                padding-left: 15px;
                padding-right: 15px;
            }

            h2 {
                font-size: 24px; /* Original size reinstated for mobile */
            }
            
            p {
                font-size: 18px;
            }
            
            .grid-item img {
                height: 300px;
            }
            
            .carousel-slide img, 
            iframe {
                height: 300px !important;
            }
            
            .center-image img {
                height: 300px;
            }
            
            .carousel-text {
                font-size: 14px;
                max-height: 50%;
                background-color: rgba(80, 80, 80, 0.5);
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/website_3(1).jpg" alt="Caged hen in poor conditions" width="1200" height="800" decoding="async">
        <div class="hero-text">Lejárt az idő: váltsuk le az elavult ketreces tartást!</div>
        <a href="https://www.change.org/p/lej%C3%A1rt-az-id%C5%91-v%C3%A1ltsuk-le-az-elavult-ketreces-tart%C3%A1st" class="hero-button" id="hero-sign-button" target="_blank">Írd alá a petíciót</a>
    </div>
    
    <section>
        <p>Magyarországon 10-ből 8 tojótyúk <strong>egész életét</strong> sötétségben tölti, beteg és sérülten, roskadásig zsúfolt <strong>ketrecekbe zárva.</strong> Egy állat sem érdemel ilyen életet! </p>
        
        <p><strong>A megoldás</strong> már jelen van: a mélyalmos és a szabadtartás sokkal jobb életet biztosít a tyúkoknak. Akkor miért zárják még mindig ketrecekbe őket?</p>

        <p>A válasz egyszerű: amíg nem tudunk róla, nem tudunk tenni ellene. Győzzük le a tudatlanságot és juttassuk el ezt a felvételt az ország minden szegletébe, valamint nyilvánítsuk ki aláírásunkkal közösen: <strong>nem támogatjuk a tyúkok ketrecbe zárását!</strong> </p>
        
        <div class="cta">
            <a href="https://www.change.org/p/lej%C3%A1rt-az-id%C5%91-v%C3%A1ltsuk-le-az-elavult-ketreces-tart%C3%A1st" class="button" id="sign-button" target="_blank">Írd alá a petíciót</a>
        </div>
    </section>
    
    <section>
        <h2>Az igazság a ketreces tartásról</h2>
        <div style="width: 100%; max-width: 1200px; margin: 0 auto;">
            <!-- Updated placeholder to match carousel dimensions -->
        <div style="width: 100%; max-width: 1200px; margin: 0 auto;">
        <div style="position: relative; width: 100%; height: 600px; background-color: #f5f5f5;">
        <img 
            src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/rescue_chicken_penny1.png" 
            alt="Video coming soon placeholder" 
            style="width: 100%; height: 100%; object-fit: cover; display: block;"
            loading="lazy" 
            decoding="async">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(80, 80, 80, 0.8); color: white; padding: 15px 20px; text-align: center; border-radius: 5px; z-index: 10;">
            <p style="margin: 0; font-weight: bold; font-size: 18px;">Hamarosan videón is bemutatjuk a ketrecek valóságát. Nézz vissza később!</p>
        </div>
    </div>
</div>
    </section>
    
    <section>
        <h2>Ez a standard egész Európában</h2>
        
        <div class="grid">
            <div class="grid-item">
                <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/website_1.jpg" alt="Overcrowded cages" width="800" height="600" loading="lazy" decoding="async">
                <h3>Túlzsúfoltság</h3>
                <p>Egyetlen tyúkra körülbelül egy A4-es papírlap méretű terület jut.</p>
            </div>
            
            <div class="grid-item">
                <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/website_2.jpg" alt="Hens in darkness" width="800" height="600" loading="lazy" decoding="async">
                <h3>Örökké tartó sötétség</h3>
                <p>Ezek a tyúkok életükben először akkor látják a Napot, amikor a vágóhídra viszik őket.</p>
            </div>
            
            <div class="grid-item">
                <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/WAM35234(1).jpg" alt="Injured hens" width="800" height="600" loading="lazy" decoding="async">
                <h3>Sérülten és betegen, megfelelő kezelés nélkül</h3>
                <p>A zsúfoltsággal járó borzalmas stressz és frusztráció miatt a tyúkok kitépkedik egymás tollát.</p>
            </div>
            
            <div class="grid-item">
                <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/website_4.jpg" alt="Hens on wire floors" width="800" height="600" loading="lazy" decoding="async">
                <h3>Egy életen át egy drótpadlón állva</h3>
                <p>Ahelyett, hogy a földön kapirgálnának, ezek a tyúkok egész életüket rácsok között töltik.</p>
            </div>
        </div>
    </section>
    
    <section>
        <h2>A megoldás létezik, de rád is szükségünk van!</h2>
        
        <p>Az <strong>első lépés</strong>, hogy mindenkihez eljuttassuk az igazságot a ketreces tartásról.</p>
        
        <p>Vásárlásoddal te is segíthetsz a tyúkokon, hiszen a jobb alternatívák <strong>már elérhetőek:</strong></p>

        <h2>Hogy biztos legyél abban, hogy a jó tojást választod:</h2>

        <p>Nyisd ki a tojásdobozt és nézd meg a tojáshéjra nyomtatott <strong>piros kód</strong> első számjegyét! Kerüld a 3-mas kódú, ketreces tojásokat!</p>
        
        <div class="content-section">
            <div class="carousel-container">
                <div class="carousel-slide">
                    <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/website%20picture%20barnegg.jpg" alt="Barn Egg Chicken" width="1200" height="800" loading="lazy" decoding="async">
                    <div class="carousel-text"><strong>2-es kód:</strong> mélyalmos tartás -  a tyúkok zárt térben vannak, de nincsenek ketrecekbe zárva és sokkal szabadabban mozoghatnak </div>
                </div>
                
                <div class="carousel-slide">
                    <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/korin-26-of-34jpg.jpg" alt="Freerange Chicken" width="1200" height="800" loading="lazy" decoding="async">
                    <div class="carousel-text"><strong>1-es kód:</strong> szabadtartás - a tyúkok ki tudnak menni a szabadba az istállón lévő kis ajtókon keresztül</div>
                </div>
                
                <div class="carousel-slide">
                    <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/james-wainscoat-yEW23jxVsNI-unsplash.jpg" alt="Organic chicken" width="1200" height="800" loading="lazy" decoding="async">
                    <div class="carousel-text"><strong>0-s kód:</strong> bio/ökológiai tartás - a legjobb a tyúkoknak: bio takarmányt kapnak, szintén kimehetnek a szabadba, az életkörülményeik pedig összességében még tágasabbak és természetesebbek, mint a szabadtartásnál</div>
                </div>
                
                <button class="carousel-prev">&#10094;</button>
                <button class="carousel-next">&#10095;</button>
                
                <div class="carousel-dots">
                    <span class="dot active" data-index="0"></span>
                    <span class="dot" data-index="1"></span>
                    <span class="dot" data-index="2"></span>
                </div>
            </div>
        </div>

        <div class="content-section">
            <p>Terjeszd is ezt a tudást, hogy mégtöbb tyúkot <strong>menthess meg!</strong> Amikor elég sok embert érünk el, a legnagyobb vállalatok is mellénk állnak majd és együtt jobbá tehetjük a tyúkok életét. Sokuk már elköteleződött amellett, hogy az idei év végéig csak ketrecmentes tojásokat fog árulni illetve felhasználni. Több országban már bebizonyosodott, hogy ahogyan ők folyamatosan állnak át a mélyalmos és szabadtartású tojás használatára, úgy csökken a ketrecekbe zárt tyúkok száma.</p>
            
            <p><strong>Ebben rád is szükségük van!</strong> Csatlakozz Te is aláírásoddal ahhoz a csodálatos közösséghez, ami segít a tyúkokon és oszd meg ezt az üzenetet családoddal és barátaiddal!</p>

            <p>Együtt legyőzzük a tudatlanságot és <strong>kiszabadítjuk a tyúkokat!</strong></p>
        </div>

        <div class="cta">
            <h2>Írd alá a petíciót!</h2>
        </div>
        
        <div class="center-image">
            <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/website_magda_the_hen.jpg" 
                 alt="Free-range hen in a meadow" loading="lazy" decoding="async">
        </div>
        
        <div class="cta">
            <a href="https://www.change.org/p/lej%C3%A1rt-az-id%C5%91-v%C3%A1ltsuk-le-az-elavult-ketreces-tart%C3%A1st" class="button" id="sign-button-bottom" target="_blank">Írd alá a petíciót</a>
        </div>
    </section>

    <script>
        // This script handles carousel
        document.addEventListener('DOMContentLoaded', function() {
            let slideIndex = 0;
            const slides = document.querySelectorAll('.carousel-slide');
            const dots = document.querySelectorAll('.dot');
            const prevButton = document.querySelector('.carousel-prev');
            const nextButton = document.querySelector('.carousel-next');
    
            // Set first slide as active
            slides[0].classList.add('active');
    
            // Function to show a specific slide
            function showSlide(n) {
                // Remove active class from all slides
                slides.forEach(slide => {
                    slide.classList.remove('active');
                });
                
                // Remove active class from all dots
                dots.forEach(dot => {
                    dot.classList.remove('active');
                });
                
                // Set new slide index
                slideIndex = n;
                
                // Handle index out of bounds
                if (slideIndex >= slides.length) {
                    slideIndex = 0;
                }
                if (slideIndex < 0) {
                    slideIndex = slides.length - 1;
                }
                
                // Set active class to current slide and dot
                slides[slideIndex].classList.add('active');
                dots[slideIndex].classList.add('active');
            }
            
            // Event listeners for prev/next buttons
            prevButton.addEventListener('click', () => {
                showSlide(slideIndex - 1);
            });
            
            nextButton.addEventListener('click', () => {
                showSlide(slideIndex + 1);
            });
            
            // Event listeners for dots
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const index = parseInt(dot.getAttribute('data-index'));
                    showSlide(index);
                });
            });

            // Thank you page functionality
const mainContent = document.querySelectorAll('body > *:not(#thank-you-section):not(script)');
const thankYouSection = document.getElementById('thank-you-section');
const returnButton = document.getElementById('return-to-main');
const signButtons = document.querySelectorAll('#sign-button, #sign-button-bottom, #hero-sign-button');

signButtons.forEach(button => {
    button.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Open the petition in a new tab
        window.open('https://www.change.org/p/lej%C3%A1rt-az-id%C5%91-v%C3%A1ltsuk-le-az-elavult-ketreces-tart%C3%A1st', '_blank');
        
        // Hide all other content
        mainContent.forEach(element => {
            element.style.display = 'none';
        });
        
        // Show thank you section
        thankYouSection.style.display = 'block';
        
        // Scroll to top
        window.scrollTo(0, 0);
    });
});

// Return button functionality
returnButton.addEventListener('click', function(e) {
    e.preventDefault();
    
    // Hide thank you section
    thankYouSection.style.display = 'none';
    
    // Show all other content
    mainContent.forEach(element => {
        element.style.display = '';
    });
    
    // Scroll to top
    window.scrollTo(0, 0);
});
    });
    </script>

<footer class="footer">
    <div class="footer-content">
        <div style="margin-bottom: 15px;">
        <!-- Newsletter signup form - same as thank you page -->
<div class="ml-form-align-center">
    <div class="ml-form-embedWrapper embedForm">
        <div class="ml-form-embedBody ml-form-embedBodyDefault row-form" style="background-color: #444;">
            <div class="ml-form-embedContent">
                <h3 style="color: white; margin-bottom: 15px;">Ne maradj le további híreinkről sem és kövesd nyomon, hogyan segít az aláírásod!</h3>
            </div>
            
            <form class="ml-block-form" action="https://assets.mailerlite.com/jsonp/1353741/forms/150030748382922422/subscribe" data-code="" method="post" >
                <div class="ml-form-formContent">
                    <div class="ml-form-fieldRow">
                        <div class="ml-field-group ml-field-name">
                            <input aria-label="name" type="text" class="form-control" name="fields[name]" placeholder="Név" autocomplete="given-name">
                        </div>
                    </div>
                    <div class="ml-form-fieldRow ml-last-item">
                        <div class="ml-field-group ml-field-email ml-validate-email ml-validate-required">
                            <input aria-label="email" aria-required="true" type="email" class="form-control" name="fields[email]" placeholder="Email" autocomplete="email">
                        </div>
                    </div>
                </div>
                
                <div class="ml-form-checkboxRow ml-validate-required">
                    <label class="checkbox">
                        <input type="checkbox">
                        <div class="label-description">
                            <p style="color: white;">Kijelentem, hogy elolvastam és elfogadom az <a href="https://docs.google.com/document/d/1MM70g8unvYdoN0eH6LJFjEolcWvPeZ3H/edit?usp=drive_link&ouid=104031341316936375930&rtpof=true&sd=true" target="_blank" style="color: #fa8d45fd;">adatvédelmi szabályzatot</a>.</p>
                        </div>
                    </label>
                </div>
                
                <input type="hidden" name="ml-submit" value="1">
                
                <div class="ml-form-embedSubmit">
                    <button type="submit" class="primary">Feliratkozás</button>
                    <button disabled="disabled" style="display: none;" type="button" class="loading">
                        <div class="ml-form-embedSubmitLoad"></div>
                        <span class="sr-only">Betöltés...</span>
                    </button>
                </div>
                
                <input type="hidden" name="anticsrf" value="true">
            </form>
        </div>
        
        <div class="ml-form-successBody row-success" style="display: none; background-color: #444;">
            <div class="ml-form-successContent">
                <h4 style="color: white;">Köszönjük!</h4>
                <p style="color: white;">Sikeresen feliratkoztál a levelezőlistánkra.</p>
            </div>
        </div>
    </div>
</div>
</div>
        <p><a href="mailto:info@farmallatvedelem.hu">info@farmallatvedelem.hu</a></p>
        <p><a href="https://farmallatvedelem.hu">www.farmallatvedelem.hu</a></p>
        <p>&copy; Homo Animalis Nonprofit Kft., 2025</p>
    </div>
</footer>
<script>
    // Footer newsletter form submission handling
    document.addEventListener('DOMContentLoaded', function() {
        // Handle all MailerLite forms on the page
        const mlForms = document.querySelectorAll('.ml-block-form');
        
        mlForms.forEach(form => {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                const formParent = this.closest('.ml-form-embedBody');
                const successSection = formParent.nextElementSibling;
                
                fetch(this.action, {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        formParent.style.display = 'none';
                        successSection.style.display = 'block';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    // Show success message anyway as fallback
                    formParent.style.display = 'none';
                    successSection.style.display = 'block';
                });
            });
        });
    });
    </script>

    <!-- Thank You Section (initially hidden) -->
<section id="thank-you-section" style="display: none;">
    <div class="thank-you-container">
        <h2>Köszönjük a támogatásod!</h2>
        
        <!-- Replace your current MailerLite form section with this complete implementation -->
<div class="newsletter-signup">
    <p>Nap mint nap tyúkok milliói szenvednek apró ketrecekbe zárva a tojásiparban. <strong>Az aláírásoddal hatalmas lépést tettél, hogy ezt megváltoztassuk!</strong> Ne maradj le további híreinkről sem és kövesd nyomon, hogyan segít az aláírásod!</p>
            
            <!-- Complete MailerLite implementation based on the working code -->
    <div class="ml-form-align-center">
        <div class="ml-form-embedWrapper embedForm">
            <div class="ml-form-embedBody ml-form-embedBodyDefault row-form">
                <div class="ml-form-embedContent">
                    <h3>Maradj kapcsolatban</h3>
                </div>
                
                <form class="ml-block-form" action="https://assets.mailerlite.com/jsonp/1353741/forms/150030748382922422/subscribe" data-code="" method="post" >
                    <div class="ml-form-formContent">
                        <div class="ml-form-fieldRow">
                            <div class="ml-field-group ml-field-name">
                                <input aria-label="name" type="text" class="form-control" name="fields[name]" placeholder="Név" autocomplete="given-name">
                            </div>
                        </div>
                        <div class="ml-form-fieldRow ml-last-item">
                            <div class="ml-field-group ml-field-email ml-validate-email ml-validate-required">
                                <input aria-label="email" aria-required="true" type="email" class="form-control" name="fields[email]" placeholder="Email" autocomplete="email">
                            </div>
                        </div>
                    </div>
                    
                    <div class="ml-form-checkboxRow ml-validate-required">
                        <label class="checkbox">
                            <input type="checkbox">
                            <div class="label-description">
                                <p>Kijelentem, hogy elolvastam és elfogadom az <a href="https://docs.google.com/document/d/1MM70g8unvYdoN0eH6LJFjEolcWvPeZ3H/edit?usp=drive_link&ouid=104031341316936375930&rtpof=true&sd=true" target="_blank">adatvédelmi szabályzatot</a>.</p>
                            </div>
                        </label>
                    </div>
                    
                    <input type="hidden" name="ml-submit" value="1">
                    
                    <div class="ml-form-embedSubmit">
                        <button type="submit" class="primary">Feliratkozás</button>
                        <button disabled="disabled" style="display: none;" type="button" class="loading">
                            <div class="ml-form-embedSubmitLoad"></div>
                            <span class="sr-only">Betöltés...</span>
                        </button>
                    </div>
                    
                    <input type="hidden" name="anticsrf" value="true">
                </form>
            </div>
            
            <div class="ml-form-successBody row-success" style="display: none">
                <div class="ml-form-successContent">
                    <h4>Köszönjük!</h4>
                    <p>Sikeresen feliratkoztál a levelezőlistánkra.</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="privacy-notice">
        <p>A személyes adataidat bizalmasan kezeljük. Az információidat sosem adjuk ki harmadik félnek az engedélyed nélkül. Bármikor leiratkozhatsz.</p>
    </div>
</div>

<div class="center-image">
    <img src="https://raw.githubusercontent.com/SonaKal/cagedfreecampaign/main/images/funny%20chicken.jpg" 
         alt="Thank you chicken" loading="lazy" decoding="async" width="800" height="600">
</div>

<div class="cta">
    <a href="#" id="return-to-main" class="button">Vissza a főoldalra</a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const mlForm = document.querySelector('.ml-block-form');
        if (mlForm) {
            mlForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                fetch(this.action, {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.querySelector('.ml-form-embedBody').style.display = 'none';
                        document.querySelector('.ml-form-successBody').style.display = 'block';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    // Fallback for error case
                    alert('Köszönjük a feliratkozást!');
                });
            });
        }
    });
    </script>

<!-- MailerLite Universal -->
<script>
    (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
    .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
    n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
    (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
    ml('account', '1353741');
</script>

<!-- Directly embed a simple form as a fallback -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Check if MailerLite hasn't loaded the form after 3 seconds
    setTimeout(function() {
        const mlForm = document.querySelector('.ml-form-embed');
        // If the div still has no children, MailerLite script likely failed
        if (mlForm && mlForm.children.length === 0) {
            console.log('MailerLite form not loaded, using fallback form');
            mlForm.innerHTML = `
                <form id="fallback-newsletter-form" style="margin-top: 20px;">
                    <div style="margin-bottom: 15px;">
                        <input type="email" name="email" placeholder="Add meg az email címed" required
                            style="padding: 10px; width: 100%; max-width: 300px; border: 1px solid #ccc; border-radius: 4px;">
                    </div>
                    <div>
                        <button type="submit" style="background-color: #fa8d45fd; color: #333; padding: 12px 24px; border: none; border-radius: 5px; font-weight: bold; font-size: 18px; cursor: pointer;">
                            Feliratkozás
                        </button>
                    </div>
                </form>
            `;
            
            // Add submit handler for fallback form
            document.getElementById('fallback-newsletter-form').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Köszönjük a feliratkozást! Az email címed rögzítettük.');
                this.reset();
            });
        }
    }, 5000); // Check after 5 seconds
});
</script>
</body>
</html>